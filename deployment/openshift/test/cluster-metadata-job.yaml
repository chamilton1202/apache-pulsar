apiVersion: batch/v1
kind: Job
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"batch/v1","kind":"Job","metadata":{"annotations":{},"labels":{"app":"pulsar","component":"broker"},"name":"pulsar-cluster-metadata-init","namespace":"apache-pulsar"},"spec":{"template":{"spec":{"containers":[{"args":["bin/pulsar initialize-cluster-metadata \\\n  --cluster local \\\n  --zookeeper zookeeper \\\n  --configuration-store zookeeper \\\n  --web-service-url http://broker.default.svc.cluster.local:8080/ \\\n  --broker-service-url pulsar://broker.default.svc.cluster.local:6650/ || true;\n"],"command":["sh","-c"],"image":"apachepulsar/pulsar:latest","name":"pulsar-cluster-metadata-init-container"}],"restartPolicy":"Never","serviceAccountName":"zookeepersa"}}}}
  creationTimestamp: null
  labels:
    app: pulsar
    component: broker
  name: pulsar-cluster-metadata-init
  selfLink: /apis/batch/v1/namespaces/apache-pulsar/jobs/pulsar-cluster-metadata-init
spec:
  backoffLimit: 6
  completions: 1
  parallelism: 1
  selector:
    matchLabels:
      controller-uid: 7313f6d0-439c-11ea-a94e-0a592ef10892
  template:
    metadata:
      creationTimestamp: null
      labels:
        controller-uid: 7313f6d0-439c-11ea-a94e-0a592ef10892
        job-name: pulsar-cluster-metadata-init
    spec:
      containers:
      - args:
        - |
          bin/pulsar initialize-cluster-metadata \
            --cluster local \
            --zookeeper zookeeper \
            --configuration-store zookeeper \
            --web-service-url http://broker.default.svc.cluster.local:8080/ \
            --broker-service-url pulsar://broker.default.svc.cluster.local:6650/ || true;
        command:
        - sh
        - -c
        image: apachepulsar/pulsar:latest
        imagePullPolicy: Always
        name: pulsar-cluster-metadata-init-container
        resources: {}
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
      dnsPolicy: ClusterFirst
      restartPolicy: Never
      schedulerName: default-scheduler
      securityContext: {}
      serviceAccount: zookeepersa
      serviceAccountName: zookeepersa
      terminationGracePeriodSeconds: 30
status: {}
